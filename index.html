<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cihat Hyundai & Kia Yedek Parça | Ankara</title>
    <meta name="description" content="Ankara Ostim Yıldız Sanayi'de Hyundai ve Kia tüm modeller için orijinal çıkma yedek parça, sıfır sandık motor. Cihat Hyundai güvencesiyle.">
    <meta name="keywords" content="hyundai yedek parça, kia yedek parça, sandık motor, accent yedek parça, i20 yedek parça, sportage yedek parça">
    
    <meta property="og:title" content="Cihat Hyundai & Kia Yedek Parça">
    <meta property="og:description" content="Orijinal çıkma yedek parça ve sandık motor çözümleri.">
    <meta property="og:image" content="cihat-logo.png">
    <meta property="og:url" content="https://cihathyundai.com">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script type="application/ld+json" id="product-schema">
    {
      "@context": "https://schema.org",
      "@type": "AutoPartsStore",
      "name": "Cihat Hyundai & Kia Yedek Parça",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Serhat Mah. 1126. Cad. No: 14",
        "addressLocality": "Yenimahalle",
        "addressRegion": "Ankara",
        "postalCode": "06200",
        "addressCountry": "TR"
      },
      "telephone": "+905537383806",
      "openingHours": "Mo-Sa 08:30-19:00"
    }
    </script>

    <style>
        :root {
            --primary: #002c5f;
            --secondary: #c4172c;
            --dark: #222;
            --light: #f8f9fa;
            --whatsapp: #25D366;
            --border: #ddd;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background-color: #f0f2f5; color: #333; }
        a { text-decoration: none; color: inherit; }
        ul { list-style: none; }

        /* --- ÜST BİLGİ & HEADER --- */
        .top-bar { background: var(--dark); color: white; padding: 8px 0; font-size: 0.85rem; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 15px; }
        .flex-between { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px; }
        
        .market-btns a {
            padding: 4px 10px; border-radius: 4px; font-weight: bold; font-size: 0.8rem; margin-left: 5px; display: inline-block;
        }
        .btn-sahibinden { background: #ffe800; color: #000; }
        .btn-otocikma { background: #ff9800; color: white; }

        header { background: white; padding: 15px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top:0; z-index: 1000; }
        .logo img { height: 60px; max-width: 100%; object-fit: contain; }
        
        .search-box {
            flex: 1; max-width: 500px; margin: 0 20px; position: relative;
        }
        .search-box input {
            width: 100%; padding: 12px 20px; border: 2px solid #eee; border-radius: 50px; outline: none; transition: 0.3s;
        }
        .search-box input:focus { border-color: var(--primary); }
        .search-box i { position: absolute; right: 20px; top: 50%; transform: translateY(-50%); color: #999; }

        /* --- NAVİGASYON --- */
        nav { background: var(--primary); overflow-x: auto; }
        .nav-list { display: flex; white-space: nowrap; }
        .nav-list a { display: block; padding: 15px 20px; color: white; font-weight: 500; transition: 0.3s; }
        .nav-list a:hover { background: rgba(255,255,255,0.1); }
        .nav-sandik { background: var(--secondary); }

        /* --- ANA YAPI --- */
        .main-layout { display: flex; margin: 30px auto; gap: 30px; align-items: flex-start; }
        
        aside { flex: 0 0 260px; background: white; border-radius: 8px; box-shadow: 0 2px 15px rgba(0,0,0,0.05); overflow: hidden; }
        
        .accordion-btn {
            width: 100%; text-align: left; padding: 15px; background: #fff; border: none; border-bottom: 1px solid #eee;
            font-weight: bold; cursor: pointer; display: flex; justify-content: space-between; align-items: center;
        }
        .accordion-btn:hover { background: #f9f9f9; }
        
        .panel { display: none; background-color: white; max-height: 400px; overflow-y: auto; padding: 0; }
        .panel button {
            width: 100%; text-align: left; padding: 10px 20px; background: none; border: none;
            font-size: 0.9rem; color: #555; border-bottom: 1px solid #f5f5f5; cursor: pointer; transition: 0.2s;
        }
        .panel button:hover { padding-left: 25px; color: var(--secondary); background: #fafafa; }
        
        .btn-special {
            width: 100%; padding: 15px; text-align: center; color: white; font-weight: bold; cursor: pointer; border: none; display: block;
        }
        .bg-motor { background: linear-gradient(45deg, #d31027, #ea384d); }
        .bg-all { background: var(--dark); margin-bottom: 10px; }

        .products-section { flex: 1; }
        .section-title { font-size: 1.5rem; color: var(--primary); margin-bottom: 20px; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 20px; }
        .card {
            background: white; border: 1px solid #eee; border-radius: 8px; overflow: hidden; transition: 0.3s; position: relative; cursor: pointer;
        }
        .card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        
        .card-img { height: 180px; background: #eee; display: flex; align-items: center; justify-content: center; overflow: hidden; }
        .card-img img { width: 100%; height: 100%; object-fit: cover; }
        
        .card-body { padding: 15px; }
        .c-cat { font-size: 0.75rem; text-transform: uppercase; color: #888; letter-spacing: 1px; margin-bottom: 5px; }
        .c-title { font-size: 1rem; font-weight: 700; margin-bottom: 10px; color: #333; line-height: 1.4; }
        
        .btn-whatsapp {
            display: block; width: 100%; padding: 10px; background: var(--whatsapp); color: white; text-align: center;
            border-radius: 5px; font-weight: bold; margin-top: 10px;
        }
        .btn-whatsapp:hover { background: #1ebc57; }

        /* --- ÜRÜN DETAY SAYFASI (GİZLİ BAŞLAR) --- */
        #product-detail-view { display: none; background: white; border-radius: 8px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); padding: 30px; }
        .detail-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .btn-back { background: #eee; color: #333; padding: 8px 15px; border-radius: 5px; font-size: 0.9rem; border:none; cursor: pointer; }
        .btn-back:hover { background: #ddd; }
        
        .detail-content { display: flex; gap: 30px; flex-wrap: wrap; }
        .detail-img-box { flex: 1; min-width: 300px; border: 1px solid #eee; border-radius: 8px; overflow: hidden; }
        .detail-img-box img { width: 100%; height: auto; object-fit: contain; }
        
        .detail-info { flex: 1; min-width: 300px; }
        .d-cat { color: var(--secondary); font-weight: bold; font-size: 0.9rem; text-transform: uppercase; margin-bottom: 10px; }
        .d-title { font-size: 1.8rem; color: var(--primary); margin-bottom: 20px; line-height: 1.2; }
        .d-desc { color: #555; line-height: 1.6; margin-bottom: 30px; background: #f9f9f9; padding: 15px; border-left: 4px solid var(--secondary); border-radius: 4px; }
        
        .d-meta { display: flex; gap: 15px; margin-bottom: 20px; font-size: 0.9rem; color: #666; }
        .d-meta span { background: #eee; padding: 5px 10px; border-radius: 4px; }

        /* FOOTER */
        footer { background: #1a1a1a; color: #aaa; padding: 50px 0; margin-top: 50px; }
        .footer-cols { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; }
        .f-title { color: white; font-size: 1.2rem; margin-bottom: 20px; }
        .socials a { font-size: 1.5rem; margin-right: 15px; color: white; }

        /* MOBİL UYUM */
        @media (max-width: 768px) {
            .main-layout { flex-direction: column; }
            aside { width: 100%; }
            .header-flex { flex-direction: column; gap: 15px; text-align: center; }
            .search-box { width: 100%; margin: 10px 0; }
            .detail-content { flex-direction: column; }
        }
    </style>
</head>
<body>

    <div class="top-bar">
        <div class="container flex-between">
            <div>
                <i class="fa fa-phone"></i> 0553 738 38 06 &nbsp;|&nbsp; 
                <i class="fa fa-phone"></i> 0534 844 18 61
            </div>
            <div class="market-btns">
                <a href="https://cihathyundai.sahibinden.com" target="_blank" class="btn-sahibinden">Sahibinden</a>
                <a href="https://cihathyundai.otocikma.com" target="_blank" class="btn-otocikma">Otocikma</a>
            </div>
        </div>
    </div>

    <header>
        <div class="container flex-between header-flex">
            <div class="logo">
                <a href="javascript:void(0)" onclick="resetFilter()">
                    <img src="cihat-hyundai-yedek-parca.png" alt="Cihat Hyundai" onerror="this.src='https://via.placeholder.com/250x70?text=CIHAT+HYUNDAI'">
                </a>
            </div>
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Parça veya Model Ara (Örn: Accent Far)..." onkeyup="searchProduct()">
                <i class="fa fa-search"></i>
            </div>
            <div class="whatsapp-btn-top">
                <a href="https://wa.me/905537383806" class="btn-whatsapp" style="border-radius: 50px; padding: 8px 20px;">
                    <i class="fab fa-whatsapp"></i> WhatsApp Destek
                </a>
            </div>
        </div>
    </header>

    <nav>
        <div class="container">
            <ul class="nav-list">
                <li><a href="#" onclick="resetFilter()">Anasayfa</a></li>
                <li><a href="#" onclick="toggleBrand('hyundai')">Hyundai Parçaları</a></li>
                <li><a href="#" onclick="toggleBrand('kia')">Kia Parçaları</a></li>
                <li><a href="#" class="nav-sandik" onclick="filterByModel('motor')">SIFIR SANDIK MOTOR</a></li>
                <li><a href="#footer">İletişim & Konum</a></li>
            </ul>
        </div>
    </nav>

    <div class="container main-layout">
        
        <aside id="main-sidebar">
            <button class="btn-special bg-all" onclick="resetFilter()">TÜM ÜRÜNLER</button>
            <button class="btn-special bg-motor" onclick="filterByModel('motor')">SANDIK MOTOR BÖLÜMÜ</button>

            <button class="accordion-btn" onclick="togglePanel('panel-hyundai')">
                HYUNDAI MODELLERİ <i class="fa fa-chevron-down"></i>
            </button>
            <div id="panel-hyundai" class="panel"></div>

            <button class="accordion-btn" onclick="togglePanel('panel-kia')">
                KIA MODELLERİ <i class="fa fa-chevron-down"></i>
            </button>
            <div id="panel-kia" class="panel"></div>
        </aside>

        <section class="products-section">
            <div id="list-view">
                <h2 id="category-title" class="section-title">Vitrin Ürünleri</h2>
                <div id="product-grid" class="grid">
                    </div>
            </div>

            <div id="product-detail-view">
                <div class="detail-header">
                    <button class="btn-back" onclick="closeProduct()"><i class="fa fa-arrow-left"></i> Listeye Dön</button>
                    <span style="color:#999; font-size:0.9rem;">Ürün ID: <span id="d-id"></span></span>
                </div>
                <div class="detail-content">
                    <div class="detail-img-box">
                        <img id="d-img" src="" alt="">
                    </div>
                    <div class="detail-info">
                        <div id="d-cat" class="d-cat"></div>
                        <h1 id="d-title" class="d-title"></h1>
                        
                        <div class="d-meta">
                            <span><i class="fa fa-check-circle"></i> Stokta Var</span>
                            <span><i class="fa fa-truck"></i> Kargo İmkanı</span>
                            <span><i class="fa fa-shield-alt"></i> Muayyer</span>
                        </div>

                        <div id="d-desc" class="d-desc"></div>

                        <a id="d-whatsapp" href="#" target="_blank" class="btn-whatsapp" style="font-size: 1.1rem; padding: 15px;">
                            <i class="fab fa-whatsapp"></i> Fiyat Al & Sipariş Ver
                        </a>
                        <p style="margin-top:15px; font-size:0.85rem; color:#888;">
                            * Fiyatlarımız döviz kuruna ve stok durumuna göre değişebilmektedir. Lütfen WhatsApp üzerinden güncel fiyat alınız.
                        </p>
                    </div>
                </div>
            </div>

        </section>

    </div>

    <footer id="footer">
        <div class="container footer-cols">
            <div>
                <h3 class="f-title">Cihat Hyundai & Kia</h3>
                <p>Ankara'nın en kapsamlı Hyundai ve Kia yedek parça tedarikçisi. Orijinal çıkma, yan sanayi ve sıfır sandık motor seçenekleri.</p>
                <div class="socials" style="margin-top: 20px;">
                    <a href="https://instagram.com/cihathyundai" target="_blank"><i class="fab fa-instagram"></i></a>
                    <a href="https://facebook.com/cihathyundai" target="_blank"><i class="fab fa-facebook"></i></a>
                </div>
            </div>
            <div>
                <h3 class="f-title">İletişim</h3>
                <p><i class="fa fa-map-marker-alt"></i> Serhat Mah. 1126. Cad. Ayyıldız Sanayi Sitesi No:14, 06200 Yenimahalle/Ankara</p>
                <br>
                <p><i class="fa fa-phone"></i> 0553 738 38 06</p>
                <p><i class="fa fa-phone"></i> 0534 844 18 61</p>
            </div>
            <div>
                <h3 class="f-title">Çalışma Saatleri</h3>
                <p>Pazartesi - Cmt: 08:30 - 19:00</p>
                <p>Pazar: Kapalı</p>
                <br>
                <small>*Türkiye'nin her yerine anlaşmalı kargo.</small>
            </div>
        </div>
        <div style="text-align: center; border-top: 1px solid #333; padding-top: 20px; margin-top: 30px;">
            &copy; 2026 Cihat Hyundai Yedek Parça.
        </div>
    </footer>

    <script>
        // --- 1. MODELLER LİSTESİ ---
        const hyundaiModels = [
            "Accent", "Accent Milenyum/Admire", "Accent Blue", "Accent Era", "Atos", 
            "Coupe", "Elantra", "Excel", "Getz", "i10", "i20", "i30", "i40", 
            "Ioniq", "Ioniq 6", "iX20", "Matrix", "Sonata", "Bayon", "Ioniq 5", 
            "Ioniq 5 N", "Ioniq 9", "Inster", "ix35", "ix55", "Galloper", "Kona", 
            "Kona Elektrik", "Santa Fe", "Terracan", "Tucson"
        ];

        const kiaModels = [
            "Cadenza", "Capital", "Carens", "Carnival", "Ceed", "Cerato", "Clarus", 
            "Magentis", "Opirus", "Optima", "Picanto", "Pride", "Pro Ceed", "Rio", 
            "Sephia", "Shuma", "Stinger", "Venga", "EV3", "EV6", "EV9", "Niro", 
            "Niro EV", "Sorento", "Soul", "Sportage", "Stonic", "XCeed"
        ];

        // --- 2. ÜRÜNLER VERİTABANI ---
        const products = [
            {
                id: 1,
                title: "Hyundai Accent Era Ön Tampon Dolu",
                category: "Accent Era",
                image: "era-tampon.jpg", 
                desc: "Orijinal çıkma hatasız, sis farları dahil. Kırık kaynak yoktur. Renk seçenekleri mevcuttur."
            },
            {
                id: 2,
                title: "Kia Sportage 2016 Far Beyni",
                category: "Sportage",
                image: "sportage-far.jpg",
                desc: "Çıkma orijinal test edilmiş ürün. Su alma sorunu yoktur. Tüm fonksiyonları çalışmaktadır."
            },
            {
                id: 3,
                title: "1.6 CRDI Komple Sandık Motor",
                category: "motor",
                image: "motor1.jpg",
                desc: "Sıfır kutusunda, Hyundai ve Kia 1.6 dizel uyumlu. Faturalı ve garantilidir. Montaj hizmetimiz vardır."
            },
            {
                id: 4,
                title: "Hyundai i20 Stop Lambası Sağ",
                category: "i20",
                image: "i20-stop.jpg",
                desc: "2021 model ve üzeri uyumlu ledli stop. Çatlak veya tamir yoktur. Orijinal Mobis ürünüdür."
            },
            {
                id: 5,
                title: "Kia Rio Klima Kompresörü",
                category: "Rio",
                image: "rio-klima.jpg",
                desc: "Tüm bakımları yapılmış sorunsuz kompresör. Kasnak ve bilye kontrol edilmiştir."
            },
            {
                id: 6,
                title: "Hyundai Tucson Ön Panjur",
                category: "Tucson",
                image: "tucson-panjur.jpg",
                desc: "Krom detaylı orijinal parça. Tırnakları sağlamdır. 2015-2018 arası kasalara uygundur."
            }
        ];

        // --- SİSTEM DEĞİŞKENLERİ ---
        const hPanel = document.getElementById('panel-hyundai');
        const kPanel = document.getElementById('panel-kia');
        const grid = document.getElementById('product-grid');
        const titleArea = document.getElementById('category-title');
        
        // --- 3. SEO FONKSİYONLARI ---
        function updateMetaTags(title, desc, url) {
            document.title = title + " | Cihat Hyundai";
            document.querySelector('meta[name="description"]').setAttribute("content", desc);
            document.querySelector('meta[property="og:title"]').setAttribute("content", title);
            document.querySelector('meta[property="og:description"]').setAttribute("content", desc);
            // URL güncelle (Sayfa yenilenmeden)
            if(url) {
                window.history.pushState({path: url}, '', url);
            }
        }

        function updateSchema(product) {
            const schemaScript = document.getElementById('product-schema');
            if(product) {
                // Ürün Detay Schema'sı
                const productSchema = {
                    "@context": "https://schema.org/",
                    "@type": "Product",
                    "name": product.title,
                    "image": "https://cihathyundai.com/" + product.image, // Gerçek domain olmalı
                    "description": product.desc,
                    "brand": {
                        "@type": "Brand",
                        "name": product.category.includes('Kia') ? "Kia" : "Hyundai"
                    },
                    "offers": {
                        "@type": "Offer",
                        "url": window.location.href,
                        "priceCurrency": "TRY",
                        "price": "0", // Fiyat değişken olduğu için 0 veya sembolik
                        "availability": "https://schema.org/InStock",
                        "seller": {
                            "@type": "Organization",
                            "name": "Cihat Hyundai Oto Parça"
                        }
                    }
                };
                schemaScript.text = JSON.stringify(productSchema);
            } else {
                // Anasayfa Schema'sına Dön
                schemaScript.text = JSON.stringify({
                    "@context": "https://schema.org",
                    "@type": "AutoPartsStore",
                    "name": "Cihat Hyundai & Kia Yedek Parça"
                });
            }
        }

        // --- 4. ÜRÜN DETAYI AÇMA ---
        function openProduct(id) {
            const p = products.find(x => x.id == id);
            if(!p) return;

            // 1. Arayüzü Değiştir
            document.getElementById('list-view').style.display = 'none';
            document.getElementById('main-sidebar').style.display = 'none'; // Detayda menüyü gizleyebiliriz veya tutabiliriz, mobilde gizlemek iyidir
            document.getElementById('product-detail-view').style.display = 'block';
            window.scrollTo(0, 0);

            // 2. İçeriği Doldur
            document.getElementById('d-id').innerText = p.id;
            document.getElementById('d-img').src = p.image;
            document.getElementById('d-cat').innerText = p.category + " Yedek Parça";
            document.getElementById('d-title').innerText = p.title;
            document.getElementById('d-desc').innerText = p.desc;

            // WhatsApp Linki
            const waMsg = `Merhaba, sitenizdeki "${p.title}" (ID: ${p.id}) parça için fiyat alabilir miyim?`;
            document.getElementById('d-whatsapp').href = `https://wa.me/905537383806?text=${encodeURIComponent(waMsg)}`;

            // 3. SEO ve URL Güncelle
            // SEO dostu URL slug oluştur (türkçe karakterleri temizle)
            const slug = p.title.toLowerCase().replace(/ /g, '-').replace(/ğ/g, 'g').replace(/ü/g, 'u').replace(/ş/g, 's').replace(/ı/g, 'i').replace(/ö/g, 'o').replace(/ç/g, 'c');
            const newUrl = `?urun=${p.id}-${slug}`;
            
            updateMetaTags(p.title, `${p.title} Ankara Cihat Hyundai güvencesiyle. ${p.desc}`, newUrl);
            updateSchema(p);
        }

        function closeProduct() {
            document.getElementById('product-detail-view').style.display = 'none';
            document.getElementById('list-view').style.display = 'block';
            
            // Masaüstünde sidebar'ı geri getir, mobilde stil bozulmasın diye kontrol edilebilir
            document.getElementById('main-sidebar').style.display = 'block';

            // URL'i temizle
            window.history.pushState({path: '/'}, '', window.location.pathname);
            document.title = "Cihat Hyundai & Kia Yedek Parça | Ankara";
            updateSchema(null);
        }

        // --- 5. LİSTELEME FONKSİYONLARI ---
        function populateSidebar() {
            hyundaiModels.forEach(model => {
                const btn = document.createElement('button');
                btn.innerText = model;
                btn.onclick = () => filterByModel(model);
                hPanel.appendChild(btn);
            });
            kiaModels.forEach(model => {
                const btn = document.createElement('button');
                btn.innerText = model;
                btn.onclick = () => filterByModel(model);
                kPanel.appendChild(btn);
            });
        }

        function togglePanel(id) {
            const panel = document.getElementById(id);
            document.querySelectorAll('.panel').forEach(p => {
                if(p.id !== id) p.style.display = 'none';
            });
            panel.style.display = (panel.style.display === "block") ? "none" : "block";
        }

        function toggleBrand(brand) {
            if(brand === 'hyundai') {
                document.getElementById('panel-hyundai').style.display = 'block';
                document.getElementById('panel-kia').style.display = 'none';
            } else {
                document.getElementById('panel-kia').style.display = 'block';
                document.getElementById('panel-hyundai').style.display = 'none';
            }
        }

        function displayProducts(items) {
            grid.innerHTML = "";
            if(items.length === 0) {
                grid.innerHTML = "<p style='grid-column: 1/-1; text-align:center; padding:20px; color:#777;'>Bu model için şu an vitrinde ürün yok. Lütfen telefonla sorunuz.</p>";
                return;
            }

            items.forEach(p => {
                // Tıklanınca openProduct çalışacak
                const html = `
                    <div class="card" onclick="openProduct(${p.id})">
                        <div class="card-img">
                            <img src="${p.image}" alt="${p.title}" onerror="this.src='https://via.placeholder.com/300x200?text=Cihat+Oto+Parca'">
                        </div>
                        <div class="card-body">
                            <div class="c-cat">${p.category}</div>
                            <div class="c-title">${p.title}</div>
                            <div style="font-size:0.85rem; color:#666; margin-bottom:10px; display:-webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">${p.desc}</div>
                            <div class="btn-whatsapp" style="padding:5px; font-size:0.9rem;">İncele & Fiyat Sor</div>
                        </div>
                    </div>
                `;
                grid.innerHTML += html;
            });
        }

        function filterByModel(model) {
            // Eğer detay sayfasındaysak listeye dön
            if(document.getElementById('product-detail-view').style.display === 'block') {
                closeProduct();
            }
            
            titleArea.innerText = model === 'motor' ? "Sıfır Sandık Motor Seçenekleri" : model + " Yedek Parçaları";
            const filtered = products.filter(p => 
                p.category.toLowerCase().includes(model.toLowerCase()) || 
                (model === 'motor' && p.category === 'motor')
            );
            displayProducts(filtered);
            if(window.innerWidth < 768) {
                document.querySelector('.products-section').scrollIntoView({behavior: 'smooth'});
            }
        }

        function resetFilter() {
            if(document.getElementById('product-detail-view').style.display === 'block') {
                closeProduct();
            }
            titleArea.innerText = "Tüm Vitrin Ürünleri";
            displayProducts(products);
        }

        function searchProduct() {
            if(document.getElementById('product-detail-view').style.display === 'block') {
                closeProduct();
            }
            const query = document.getElementById('searchInput').value.toLowerCase();
            const filtered = products.filter(p => 
                p.title.toLowerCase().includes(query) || 
                p.category.toLowerCase().includes(query) ||
                p.desc.toLowerCase().includes(query)
            );
            titleArea.innerText = `"${query}" İçin Arama Sonuçları`;
            displayProducts(filtered);
        }

        // --- SAYFA YÜKLENDİĞİNDE ---
        window.onload = function() {
            populateSidebar();
            displayProducts(products);

            // URL Kontrolü (Link paylaşılmışsa direkt ürünü aç)
            const urlParams = new URLSearchParams(window.location.search);
            const productParam = urlParams.get('urun'); 
            
            if (productParam) {
                // "1-hyundai-accent" stringinden ID'yi (1) al
                const id = productParam.split('-')[0];
                openProduct(id);
            }
            
            // Tarayıcı Geri Tuşu Kontrolü
            window.onpopstate = function(event) {
                if(document.getElementById('product-detail-view').style.display === 'block') {
                    closeProduct();
                }
            };
        };

    </script>
</body>
</html>
